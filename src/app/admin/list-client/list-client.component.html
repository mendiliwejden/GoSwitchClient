<app-navbar-admin></app-navbar-admin>

<app-header-admin></app-header-admin>

<div class="container-fluid">
  <div class="row">
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div
        class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Client</h1>
        <div class="btn-toolbar mb-2 mb-md-0">
        </div>
      </div>
      <table class=" table table-dark table-striped">
        <thead>
        <tr>
          <th scope="col text-center">User Id</th>
          <th scope="col">Nom</th>
          <th scope="col">Numéro de téléphone</th>
          <th scope="col">Email</th>
          <th scope="col">Region</th>
          <th scope="col">Facebook</th>
          <th scope="col">Destination</th>
          <th scope="col">Administration</th>
          <th scope="col">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let client of clientList">
          <th scope="row">{{client.id}}</th>
          <td>{{client.firstName}} {{client.lastName}}</td>
          <td>{{client.phoneNumber}}</td>
          <td>{{client.username}}</td>
          <td>{{client.region}}</td>
          <td>{{client.facebook}}</td>
          <td>{{client.destination}}</td>
          <td>
            <label> Admin
              <input style="font-size: 50px; text-align: center" type="checkbox" (change)="onItemChange($event.target, client.id)" [checked]="checkRoles(client.roles)">
            </label><br/>
          </td>
          <td>
            <mat-icon class="icon" (click)="openConfirmationDialog(client.id)">delete_forever</mat-icon>
            <mat-icon *ngIf="client.id === selectedUserId" (click)="updateUserRoles(client.id)" class="icon">save</mat-icon>
          </td>
        </tr>
        </tbody>
      </table>
      <canvas class="my-4 w-100" id="myChart" width="900" height="380"></canvas>


    </main>

  </div>
</div>

